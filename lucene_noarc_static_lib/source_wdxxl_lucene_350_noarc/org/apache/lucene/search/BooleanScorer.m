//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: jar:file:wdxxl_lucene_350.jar!org/apache/lucene/search/BooleanScorer.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/StringBuilder.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/util/List.h"
#include "org/apache/lucene/index/IndexReader.h"
#include "org/apache/lucene/search/BooleanClause.h"
#include "org/apache/lucene/search/BooleanScorer.h"
#include "org/apache/lucene/search/Collector.h"
#include "org/apache/lucene/search/DocIdSetIterator.h"
#include "org/apache/lucene/search/Query.h"
#include "org/apache/lucene/search/Scorer.h"
#include "org/apache/lucene/search/Similarity.h"
#include "org/apache/lucene/search/Weight.h"

@interface OrgApacheLuceneSearchBooleanScorer () {
 @public
  OrgApacheLuceneSearchBooleanScorer_SubScorer *scorers_;
  OrgApacheLuceneSearchBooleanScorer_BucketTable *bucketTable_;
  IOSFloatArray *coordFactors_;
  jint minNrShouldMatch_;
  jint end_;
  OrgApacheLuceneSearchBooleanScorer_Bucket *current_;
  jint doc_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer, scorers_, OrgApacheLuceneSearchBooleanScorer_SubScorer *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer, bucketTable_, OrgApacheLuceneSearchBooleanScorer_BucketTable *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer, coordFactors_, IOSFloatArray *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer, current_, OrgApacheLuceneSearchBooleanScorer_Bucket *)

inline jint OrgApacheLuceneSearchBooleanScorer_get_PROHIBITED_MASK();
#define OrgApacheLuceneSearchBooleanScorer_PROHIBITED_MASK 1
J2OBJC_STATIC_FIELD_CONSTANT(OrgApacheLuceneSearchBooleanScorer, PROHIBITED_MASK, jint)

@interface OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector : OrgApacheLuceneSearchCollector {
 @public
  OrgApacheLuceneSearchBooleanScorer_BucketTable *bucketTable_;
  jint mask_;
  OrgApacheLuceneSearchScorer *scorer_;
}

- (instancetype)initWithInt:(jint)mask
withOrgApacheLuceneSearchBooleanScorer_BucketTable:(OrgApacheLuceneSearchBooleanScorer_BucketTable *)bucketTable;

- (void)collectWithInt:(jint)doc;

- (void)setNextReaderWithOrgApacheLuceneIndexIndexReader:(OrgApacheLuceneIndexIndexReader *)reader
                                                 withInt:(jint)docBase;

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer;

- (jboolean)acceptsDocsOutOfOrder;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector)

J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector, bucketTable_, OrgApacheLuceneSearchBooleanScorer_BucketTable *)
J2OBJC_FIELD_SETTER(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector, scorer_, OrgApacheLuceneSearchScorer *)

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector_initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector *self, jint mask, OrgApacheLuceneSearchBooleanScorer_BucketTable *bucketTable);

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector *new_OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector_initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_(jint mask, OrgApacheLuceneSearchBooleanScorer_BucketTable *bucketTable) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector *create_OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector_initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_(jint mask, OrgApacheLuceneSearchBooleanScorer_BucketTable *bucketTable);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector)

@interface OrgApacheLuceneSearchBooleanScorer_BucketScorer : OrgApacheLuceneSearchScorer {
 @public
  jfloat score_;
  jint doc_;
  jint freq_;
}

- (instancetype)initWithOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)weight;

- (jint)advanceWithInt:(jint)target;

- (jint)docID;

- (jfloat)freq;

- (jint)nextDoc;

- (jfloat)score;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheLuceneSearchBooleanScorer_BucketScorer)

__attribute__((unused)) static void OrgApacheLuceneSearchBooleanScorer_BucketScorer_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchBooleanScorer_BucketScorer *self, OrgApacheLuceneSearchWeight *weight);

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_BucketScorer *new_OrgApacheLuceneSearchBooleanScorer_BucketScorer_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchWeight *weight) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgApacheLuceneSearchBooleanScorer_BucketScorer *create_OrgApacheLuceneSearchBooleanScorer_BucketScorer_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchWeight *weight);

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheLuceneSearchBooleanScorer_BucketScorer)

@implementation OrgApacheLuceneSearchBooleanScorer

- (instancetype)initWithOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)weight
                                        withBoolean:(jboolean)disableCoord
                withOrgApacheLuceneSearchSimilarity:(OrgApacheLuceneSearchSimilarity *)similarity
                                            withInt:(jint)minNrShouldMatch
                                   withJavaUtilList:(id<JavaUtilList>)optionalScorers
                                   withJavaUtilList:(id<JavaUtilList>)prohibitedScorers
                                            withInt:(jint)maxCoord {
  OrgApacheLuceneSearchBooleanScorer_initWithOrgApacheLuceneSearchWeight_withBoolean_withOrgApacheLuceneSearchSimilarity_withInt_withJavaUtilList_withJavaUtilList_withInt_(self, weight, disableCoord, similarity, minNrShouldMatch, optionalScorers, prohibitedScorers, maxCoord);
  return self;
}

- (jboolean)scoreWithOrgApacheLuceneSearchCollector:(OrgApacheLuceneSearchCollector *)collector
                                            withInt:(jint)max
                                            withInt:(jint)firstDocID {
  JreAssert((firstDocID == -1), (@"org/apache/lucene/search/BooleanScorer.java:239 condition failed: assert firstDocID == -1;"));
  jboolean more;
  OrgApacheLuceneSearchBooleanScorer_Bucket *tmp;
  OrgApacheLuceneSearchBooleanScorer_BucketScorer *bs = create_OrgApacheLuceneSearchBooleanScorer_BucketScorer_initWithOrgApacheLuceneSearchWeight_(weight_);
  [((OrgApacheLuceneSearchCollector *) nil_chk(collector)) setScorerWithOrgApacheLuceneSearchScorer:bs];
  do {
    JreStrongAssign(&((OrgApacheLuceneSearchBooleanScorer_BucketTable *) nil_chk(bucketTable_))->first_, nil);
    while (current_ != nil) {
      if ((current_->bits_ & OrgApacheLuceneSearchBooleanScorer_PROHIBITED_MASK) == 0) {
        if (current_->doc_ >= max) {
          tmp = current_;
          JreStrongAssign(&current_, current_->next_);
          JreStrongAssign(&tmp->next_, ((OrgApacheLuceneSearchBooleanScorer_BucketTable *) nil_chk(bucketTable_))->first_);
          JreStrongAssign(&bucketTable_->first_, tmp);
          continue;
        }
        if (current_->coord_ >= minNrShouldMatch_) {
          bs->score_ = current_->score_ * IOSFloatArray_Get(nil_chk(coordFactors_), current_->coord_);
          bs->doc_ = current_->doc_;
          bs->freq_ = current_->coord_;
          [collector collectWithInt:current_->doc_];
        }
      }
      JreStrongAssign(&current_, ((OrgApacheLuceneSearchBooleanScorer_Bucket *) nil_chk(current_))->next_);
    }
    if (((OrgApacheLuceneSearchBooleanScorer_BucketTable *) nil_chk(bucketTable_))->first_ != nil) {
      JreStrongAssign(&current_, bucketTable_->first_);
      JreStrongAssign(&bucketTable_->first_, current_->next_);
      return true;
    }
    more = false;
    end_ += OrgApacheLuceneSearchBooleanScorer_BucketTable_SIZE;
    for (OrgApacheLuceneSearchBooleanScorer_SubScorer *sub = scorers_; sub != nil; sub = sub->next_) {
      jint subScorerDocID = [((OrgApacheLuceneSearchScorer *) nil_chk(sub->scorer_)) docID];
      if (subScorerDocID != OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS) {
        more |= [((OrgApacheLuceneSearchScorer *) nil_chk(sub->scorer_)) scoreWithOrgApacheLuceneSearchCollector:sub->collector_ withInt:end_ withInt:subScorerDocID];
      }
    }
    JreStrongAssign(&current_, ((OrgApacheLuceneSearchBooleanScorer_BucketTable *) nil_chk(bucketTable_))->first_);
  }
  while (current_ != nil || more);
  return false;
}

- (jint)advanceWithInt:(jint)target {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (jint)docID {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (jint)nextDoc {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (jfloat)score {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (void)scoreWithOrgApacheLuceneSearchCollector:(OrgApacheLuceneSearchCollector *)collector {
  [self scoreWithOrgApacheLuceneSearchCollector:collector withInt:JavaLangInteger_MAX_VALUE withInt:-1];
}

- (NSString *)description {
  JavaLangStringBuilder *buffer = create_JavaLangStringBuilder_init();
  [buffer appendWithNSString:@"boolean("];
  for (OrgApacheLuceneSearchBooleanScorer_SubScorer *sub = scorers_; sub != nil; sub = sub->next_) {
    [buffer appendWithNSString:[((OrgApacheLuceneSearchScorer *) nil_chk(sub->scorer_)) description]];
    [buffer appendWithNSString:@" "];
  }
  [buffer appendWithNSString:@")"];
  return [buffer description];
}

- (void)visitSubScorersWithOrgApacheLuceneSearchQuery:(OrgApacheLuceneSearchQuery *)parent
         withOrgApacheLuceneSearchBooleanClause_Occur:(OrgApacheLuceneSearchBooleanClause_Occur *)relationship
        withOrgApacheLuceneSearchScorer_ScorerVisitor:(OrgApacheLuceneSearchScorer_ScorerVisitor *)visitor {
  [super visitSubScorersWithOrgApacheLuceneSearchQuery:parent withOrgApacheLuceneSearchBooleanClause_Occur:relationship withOrgApacheLuceneSearchScorer_ScorerVisitor:visitor];
  OrgApacheLuceneSearchQuery *q = [((OrgApacheLuceneSearchWeight *) nil_chk(weight_)) getQuery];
  OrgApacheLuceneSearchBooleanScorer_SubScorer *sub = scorers_;
  while (sub != nil) {
    if (!sub->prohibited_) {
      relationship = JreLoadEnum(OrgApacheLuceneSearchBooleanClause_Occur, SHOULD);
    }
    else {
      relationship = JreLoadEnum(OrgApacheLuceneSearchBooleanClause_Occur, MUST_NOT);
    }
    [((OrgApacheLuceneSearchScorer *) nil_chk(sub->scorer_)) visitSubScorersWithOrgApacheLuceneSearchQuery:q withOrgApacheLuceneSearchBooleanClause_Occur:relationship withOrgApacheLuceneSearchScorer_ScorerVisitor:visitor];
    sub = sub->next_;
  }
}

- (void)dealloc {
  RELEASE_(scorers_);
  RELEASE_(bucketTable_);
  RELEASE_(coordFactors_);
  RELEASE_(current_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, 1, 2, -1, -1 },
    { NULL, "Z", 0x4, 3, 4, 1, -1, -1, -1 },
    { NULL, "I", 0x1, 5, 6, 1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, 1, -1, -1, -1 },
    { NULL, "F", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 3, 7, 1, -1, -1, -1 },
    { NULL, "LNSString;", 0x1, 8, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x4, 9, 10, -1, 11, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchWeight:withBoolean:withOrgApacheLuceneSearchSimilarity:withInt:withJavaUtilList:withJavaUtilList:withInt:);
  methods[1].selector = @selector(scoreWithOrgApacheLuceneSearchCollector:withInt:withInt:);
  methods[2].selector = @selector(advanceWithInt:);
  methods[3].selector = @selector(docID);
  methods[4].selector = @selector(nextDoc);
  methods[5].selector = @selector(score);
  methods[6].selector = @selector(scoreWithOrgApacheLuceneSearchCollector:);
  methods[7].selector = @selector(description);
  methods[8].selector = @selector(visitSubScorersWithOrgApacheLuceneSearchQuery:withOrgApacheLuceneSearchBooleanClause_Occur:withOrgApacheLuceneSearchScorer_ScorerVisitor:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "scorers_", "LOrgApacheLuceneSearchBooleanScorer_SubScorer;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "bucketTable_", "LOrgApacheLuceneSearchBooleanScorer_BucketTable;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "coordFactors_", "[F", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "minNrShouldMatch_", "I", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "end_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "current_", "LOrgApacheLuceneSearchBooleanScorer_Bucket;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "doc_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "PROHIBITED_MASK", "I", .constantValue.asInt = OrgApacheLuceneSearchBooleanScorer_PROHIBITED_MASK, 0x1a, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchWeight;ZLOrgApacheLuceneSearchSimilarity;ILJavaUtilList;LJavaUtilList;I", "LJavaIoIOException;", "(Lorg/apache/lucene/search/Weight;ZLorg/apache/lucene/search/Similarity;ILjava/util/List<Lorg/apache/lucene/search/Scorer;>;Ljava/util/List<Lorg/apache/lucene/search/Scorer;>;I)V", "score", "LOrgApacheLuceneSearchCollector;II", "advance", "I", "LOrgApacheLuceneSearchCollector;", "toString", "visitSubScorers", "LOrgApacheLuceneSearchQuery;LOrgApacheLuceneSearchBooleanClause_Occur;LOrgApacheLuceneSearchScorer_ScorerVisitor;", "(Lorg/apache/lucene/search/Query;Lorg/apache/lucene/search/BooleanClause$Occur;Lorg/apache/lucene/search/Scorer$ScorerVisitor<Lorg/apache/lucene/search/Query;Lorg/apache/lucene/search/Query;Lorg/apache/lucene/search/Scorer;>;)V", "LOrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector;LOrgApacheLuceneSearchBooleanScorer_BucketScorer;LOrgApacheLuceneSearchBooleanScorer_Bucket;LOrgApacheLuceneSearchBooleanScorer_BucketTable;LOrgApacheLuceneSearchBooleanScorer_SubScorer;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer = { "BooleanScorer", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x10, 9, 8, -1, 12, -1, -1, -1 };
  return &_OrgApacheLuceneSearchBooleanScorer;
}

@end

void OrgApacheLuceneSearchBooleanScorer_initWithOrgApacheLuceneSearchWeight_withBoolean_withOrgApacheLuceneSearchSimilarity_withInt_withJavaUtilList_withJavaUtilList_withInt_(OrgApacheLuceneSearchBooleanScorer *self, OrgApacheLuceneSearchWeight *weight, jboolean disableCoord, OrgApacheLuceneSearchSimilarity *similarity, jint minNrShouldMatch, id<JavaUtilList> optionalScorers, id<JavaUtilList> prohibitedScorers, jint maxCoord) {
  OrgApacheLuceneSearchScorer_initWithOrgApacheLuceneSearchWeight_(self, weight);
  JreStrongAssign(&self->scorers_, nil);
  JreStrongAssignAndConsume(&self->bucketTable_, new_OrgApacheLuceneSearchBooleanScorer_BucketTable_init());
  self->doc_ = -1;
  self->minNrShouldMatch_ = minNrShouldMatch;
  if (optionalScorers != nil && [optionalScorers size] > 0) {
    for (OrgApacheLuceneSearchScorer * __strong scorer in optionalScorers) {
      if ([((OrgApacheLuceneSearchScorer *) nil_chk(scorer)) nextDoc] != OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS) {
        JreStrongAssignAndConsume(&self->scorers_, new_OrgApacheLuceneSearchBooleanScorer_SubScorer_initWithOrgApacheLuceneSearchScorer_withBoolean_withBoolean_withOrgApacheLuceneSearchCollector_withOrgApacheLuceneSearchBooleanScorer_SubScorer_(scorer, false, false, [((OrgApacheLuceneSearchBooleanScorer_BucketTable *) nil_chk(self->bucketTable_)) newCollectorWithInt:0], self->scorers_));
      }
    }
  }
  if (prohibitedScorers != nil && [prohibitedScorers size] > 0) {
    for (OrgApacheLuceneSearchScorer * __strong scorer in prohibitedScorers) {
      if ([((OrgApacheLuceneSearchScorer *) nil_chk(scorer)) nextDoc] != OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS) {
        JreStrongAssignAndConsume(&self->scorers_, new_OrgApacheLuceneSearchBooleanScorer_SubScorer_initWithOrgApacheLuceneSearchScorer_withBoolean_withBoolean_withOrgApacheLuceneSearchCollector_withOrgApacheLuceneSearchBooleanScorer_SubScorer_(scorer, false, true, [((OrgApacheLuceneSearchBooleanScorer_BucketTable *) nil_chk(self->bucketTable_)) newCollectorWithInt:OrgApacheLuceneSearchBooleanScorer_PROHIBITED_MASK], self->scorers_));
      }
    }
  }
  JreStrongAssignAndConsume(&self->coordFactors_, [IOSFloatArray newArrayWithLength:[((id<JavaUtilList>) nil_chk(optionalScorers)) size] + 1]);
  for (jint i = 0; i < self->coordFactors_->size_; i++) {
    *IOSFloatArray_GetRef(self->coordFactors_, i) = disableCoord ? 1.0f : [((OrgApacheLuceneSearchSimilarity *) nil_chk(similarity)) coordWithInt:i withInt:maxCoord];
  }
}

OrgApacheLuceneSearchBooleanScorer *new_OrgApacheLuceneSearchBooleanScorer_initWithOrgApacheLuceneSearchWeight_withBoolean_withOrgApacheLuceneSearchSimilarity_withInt_withJavaUtilList_withJavaUtilList_withInt_(OrgApacheLuceneSearchWeight *weight, jboolean disableCoord, OrgApacheLuceneSearchSimilarity *similarity, jint minNrShouldMatch, id<JavaUtilList> optionalScorers, id<JavaUtilList> prohibitedScorers, jint maxCoord) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer, initWithOrgApacheLuceneSearchWeight_withBoolean_withOrgApacheLuceneSearchSimilarity_withInt_withJavaUtilList_withJavaUtilList_withInt_, weight, disableCoord, similarity, minNrShouldMatch, optionalScorers, prohibitedScorers, maxCoord)
}

OrgApacheLuceneSearchBooleanScorer *create_OrgApacheLuceneSearchBooleanScorer_initWithOrgApacheLuceneSearchWeight_withBoolean_withOrgApacheLuceneSearchSimilarity_withInt_withJavaUtilList_withJavaUtilList_withInt_(OrgApacheLuceneSearchWeight *weight, jboolean disableCoord, OrgApacheLuceneSearchSimilarity *similarity, jint minNrShouldMatch, id<JavaUtilList> optionalScorers, id<JavaUtilList> prohibitedScorers, jint maxCoord) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer, initWithOrgApacheLuceneSearchWeight_withBoolean_withOrgApacheLuceneSearchSimilarity_withInt_withJavaUtilList_withJavaUtilList_withInt_, weight, disableCoord, similarity, minNrShouldMatch, optionalScorers, prohibitedScorers, maxCoord)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer)

@implementation OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector

- (instancetype)initWithInt:(jint)mask
withOrgApacheLuceneSearchBooleanScorer_BucketTable:(OrgApacheLuceneSearchBooleanScorer_BucketTable *)bucketTable {
  OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector_initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_(self, mask, bucketTable);
  return self;
}

- (void)collectWithInt:(jint)doc {
  OrgApacheLuceneSearchBooleanScorer_BucketTable *table = bucketTable_;
  jint i = doc & OrgApacheLuceneSearchBooleanScorer_BucketTable_MASK;
  OrgApacheLuceneSearchBooleanScorer_Bucket *bucket = IOSObjectArray_Get(nil_chk(((OrgApacheLuceneSearchBooleanScorer_BucketTable *) nil_chk(table))->buckets_), i);
  if (((OrgApacheLuceneSearchBooleanScorer_Bucket *) nil_chk(bucket))->doc_ != doc) {
    bucket->doc_ = doc;
    bucket->score_ = [((OrgApacheLuceneSearchScorer *) nil_chk(scorer_)) score];
    bucket->bits_ = mask_;
    bucket->coord_ = 1;
    JreStrongAssign(&bucket->next_, table->first_);
    JreStrongAssign(&table->first_, bucket);
  }
  else {
    JrePlusAssignFloatF(&bucket->score_, [((OrgApacheLuceneSearchScorer *) nil_chk(scorer_)) score]);
    bucket->bits_ |= mask_;
    bucket->coord_++;
  }
}

- (void)setNextReaderWithOrgApacheLuceneIndexIndexReader:(OrgApacheLuceneIndexIndexReader *)reader
                                                 withInt:(jint)docBase {
}

- (void)setScorerWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer {
  JreStrongAssign(&self->scorer_, scorer);
}

- (jboolean)acceptsDocsOutOfOrder {
  return true;
}

- (void)dealloc {
  RELEASE_(bucketTable_);
  RELEASE_(scorer_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, 3, -1, -1, -1 },
    { NULL, "V", 0x1, 4, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 6, 7, 3, -1, -1, -1 },
    { NULL, "Z", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithInt:withOrgApacheLuceneSearchBooleanScorer_BucketTable:);
  methods[1].selector = @selector(collectWithInt:);
  methods[2].selector = @selector(setNextReaderWithOrgApacheLuceneIndexIndexReader:withInt:);
  methods[3].selector = @selector(setScorerWithOrgApacheLuceneSearchScorer:);
  methods[4].selector = @selector(acceptsDocsOutOfOrder);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "bucketTable_", "LOrgApacheLuceneSearchBooleanScorer_BucketTable;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "mask_", "I", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "scorer_", "LOrgApacheLuceneSearchScorer;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "ILOrgApacheLuceneSearchBooleanScorer_BucketTable;", "collect", "I", "LJavaIoIOException;", "setNextReader", "LOrgApacheLuceneIndexIndexReader;I", "setScorer", "LOrgApacheLuceneSearchScorer;", "LOrgApacheLuceneSearchBooleanScorer;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector = { "BooleanScorerCollector", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x1a, 5, 3, 8, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector;
}

@end

void OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector_initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector *self, jint mask, OrgApacheLuceneSearchBooleanScorer_BucketTable *bucketTable) {
  OrgApacheLuceneSearchCollector_init(self);
  self->mask_ = mask;
  JreStrongAssign(&self->bucketTable_, bucketTable);
}

OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector *new_OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector_initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_(jint mask, OrgApacheLuceneSearchBooleanScorer_BucketTable *bucketTable) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector, initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_, mask, bucketTable)
}

OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector *create_OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector_initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_(jint mask, OrgApacheLuceneSearchBooleanScorer_BucketTable *bucketTable) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector, initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_, mask, bucketTable)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector)

@implementation OrgApacheLuceneSearchBooleanScorer_BucketScorer

- (instancetype)initWithOrgApacheLuceneSearchWeight:(OrgApacheLuceneSearchWeight *)weight {
  OrgApacheLuceneSearchBooleanScorer_BucketScorer_initWithOrgApacheLuceneSearchWeight_(self, weight);
  return self;
}

- (jint)advanceWithInt:(jint)target {
  return OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS;
}

- (jint)docID {
  return doc_;
}

- (jfloat)freq {
  return freq_;
}

- (jint)nextDoc {
  return OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS;
}

- (jfloat)score {
  return score_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "I", 0x1, 1, 2, 3, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "F", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, 3, -1, -1, -1 },
    { NULL, "F", 0x1, -1, -1, 3, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchWeight:);
  methods[1].selector = @selector(advanceWithInt:);
  methods[2].selector = @selector(docID);
  methods[3].selector = @selector(freq);
  methods[4].selector = @selector(nextDoc);
  methods[5].selector = @selector(score);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "score_", "F", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "doc_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "freq_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchWeight;", "advance", "I", "LJavaIoIOException;", "LOrgApacheLuceneSearchBooleanScorer;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_BucketScorer = { "BucketScorer", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x1a, 6, 3, 4, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchBooleanScorer_BucketScorer;
}

@end

void OrgApacheLuceneSearchBooleanScorer_BucketScorer_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchBooleanScorer_BucketScorer *self, OrgApacheLuceneSearchWeight *weight) {
  OrgApacheLuceneSearchScorer_initWithOrgApacheLuceneSearchWeight_(self, weight);
  self->doc_ = OrgApacheLuceneSearchDocIdSetIterator_NO_MORE_DOCS;
}

OrgApacheLuceneSearchBooleanScorer_BucketScorer *new_OrgApacheLuceneSearchBooleanScorer_BucketScorer_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchWeight *weight) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_BucketScorer, initWithOrgApacheLuceneSearchWeight_, weight)
}

OrgApacheLuceneSearchBooleanScorer_BucketScorer *create_OrgApacheLuceneSearchBooleanScorer_BucketScorer_initWithOrgApacheLuceneSearchWeight_(OrgApacheLuceneSearchWeight *weight) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_BucketScorer, initWithOrgApacheLuceneSearchWeight_, weight)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_BucketScorer)

@implementation OrgApacheLuceneSearchBooleanScorer_Bucket

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneSearchBooleanScorer_Bucket_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)dealloc {
  RELEASE_(next_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "doc_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "score_", "F", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "bits_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "coord_", "I", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
    { "next_", "LOrgApacheLuceneSearchBooleanScorer_Bucket;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchBooleanScorer;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_Bucket = { "Bucket", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x18, 1, 5, 0, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchBooleanScorer_Bucket;
}

@end

void OrgApacheLuceneSearchBooleanScorer_Bucket_init(OrgApacheLuceneSearchBooleanScorer_Bucket *self) {
  NSObject_init(self);
  self->doc_ = -1;
}

OrgApacheLuceneSearchBooleanScorer_Bucket *new_OrgApacheLuceneSearchBooleanScorer_Bucket_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_Bucket, init)
}

OrgApacheLuceneSearchBooleanScorer_Bucket *create_OrgApacheLuceneSearchBooleanScorer_Bucket_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_Bucket, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_Bucket)

@implementation OrgApacheLuceneSearchBooleanScorer_BucketTable

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgApacheLuceneSearchBooleanScorer_BucketTable_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (OrgApacheLuceneSearchCollector *)newCollectorWithInt:(jint)mask {
  return create_OrgApacheLuceneSearchBooleanScorer_BooleanScorerCollector_initWithInt_withOrgApacheLuceneSearchBooleanScorer_BucketTable_(mask, self);
}

- (jint)size {
  return OrgApacheLuceneSearchBooleanScorer_BucketTable_SIZE;
}

- (void)dealloc {
  RELEASE_(buckets_);
  RELEASE_(first_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LOrgApacheLuceneSearchCollector;", 0x1, 0, 1, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(newCollectorWithInt:);
  methods[2].selector = @selector(size);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "SIZE", "I", .constantValue.asInt = OrgApacheLuceneSearchBooleanScorer_BucketTable_SIZE, 0x19, -1, -1, -1, -1 },
    { "MASK", "I", .constantValue.asInt = OrgApacheLuceneSearchBooleanScorer_BucketTable_MASK, 0x19, -1, -1, -1, -1 },
    { "buckets_", "[LOrgApacheLuceneSearchBooleanScorer_Bucket;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "first_", "LOrgApacheLuceneSearchBooleanScorer_Bucket;", .constantValue.asLong = 0, 0x0, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "newCollector", "I", "LOrgApacheLuceneSearchBooleanScorer;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_BucketTable = { "BucketTable", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x18, 3, 4, 2, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchBooleanScorer_BucketTable;
}

@end

void OrgApacheLuceneSearchBooleanScorer_BucketTable_init(OrgApacheLuceneSearchBooleanScorer_BucketTable *self) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->buckets_, [IOSObjectArray newArrayWithLength:OrgApacheLuceneSearchBooleanScorer_BucketTable_SIZE type:OrgApacheLuceneSearchBooleanScorer_Bucket_class_()]);
  JreStrongAssign(&self->first_, nil);
  for (jint idx = 0; idx < OrgApacheLuceneSearchBooleanScorer_BucketTable_SIZE; idx++) {
    IOSObjectArray_SetAndConsume(self->buckets_, idx, new_OrgApacheLuceneSearchBooleanScorer_Bucket_init());
  }
}

OrgApacheLuceneSearchBooleanScorer_BucketTable *new_OrgApacheLuceneSearchBooleanScorer_BucketTable_init() {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_BucketTable, init)
}

OrgApacheLuceneSearchBooleanScorer_BucketTable *create_OrgApacheLuceneSearchBooleanScorer_BucketTable_init() {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_BucketTable, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_BucketTable)

@implementation OrgApacheLuceneSearchBooleanScorer_SubScorer

- (instancetype)initWithOrgApacheLuceneSearchScorer:(OrgApacheLuceneSearchScorer *)scorer
                                        withBoolean:(jboolean)required
                                        withBoolean:(jboolean)prohibited
                 withOrgApacheLuceneSearchCollector:(OrgApacheLuceneSearchCollector *)collector
   withOrgApacheLuceneSearchBooleanScorer_SubScorer:(OrgApacheLuceneSearchBooleanScorer_SubScorer *)next {
  OrgApacheLuceneSearchBooleanScorer_SubScorer_initWithOrgApacheLuceneSearchScorer_withBoolean_withBoolean_withOrgApacheLuceneSearchCollector_withOrgApacheLuceneSearchBooleanScorer_SubScorer_(self, scorer, required, prohibited, collector, next);
  return self;
}

- (void)dealloc {
  RELEASE_(scorer_);
  RELEASE_(collector_);
  RELEASE_(next_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, 1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithOrgApacheLuceneSearchScorer:withBoolean:withBoolean:withOrgApacheLuceneSearchCollector:withOrgApacheLuceneSearchBooleanScorer_SubScorer:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "scorer_", "LOrgApacheLuceneSearchScorer;", .constantValue.asLong = 0, 0x1, -1, -1, -1, -1 },
    { "prohibited_", "Z", .constantValue.asLong = 0, 0x1, -1, -1, -1, -1 },
    { "collector_", "LOrgApacheLuceneSearchCollector;", .constantValue.asLong = 0, 0x1, -1, -1, -1, -1 },
    { "next_", "LOrgApacheLuceneSearchBooleanScorer_SubScorer;", .constantValue.asLong = 0, 0x1, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LOrgApacheLuceneSearchScorer;ZZLOrgApacheLuceneSearchCollector;LOrgApacheLuceneSearchBooleanScorer_SubScorer;", "LJavaIoIOException;", "LOrgApacheLuceneSearchBooleanScorer;" };
  static const J2ObjcClassInfo _OrgApacheLuceneSearchBooleanScorer_SubScorer = { "SubScorer", "org.apache.lucene.search", ptrTable, methods, fields, 7, 0x18, 1, 4, 2, -1, -1, -1, -1 };
  return &_OrgApacheLuceneSearchBooleanScorer_SubScorer;
}

@end

void OrgApacheLuceneSearchBooleanScorer_SubScorer_initWithOrgApacheLuceneSearchScorer_withBoolean_withBoolean_withOrgApacheLuceneSearchCollector_withOrgApacheLuceneSearchBooleanScorer_SubScorer_(OrgApacheLuceneSearchBooleanScorer_SubScorer *self, OrgApacheLuceneSearchScorer *scorer, jboolean required, jboolean prohibited, OrgApacheLuceneSearchCollector *collector, OrgApacheLuceneSearchBooleanScorer_SubScorer *next) {
  NSObject_init(self);
  if (required) {
    @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"this scorer cannot handle required=true");
  }
  JreStrongAssign(&self->scorer_, scorer);
  self->prohibited_ = prohibited;
  JreStrongAssign(&self->collector_, collector);
  JreStrongAssign(&self->next_, next);
}

OrgApacheLuceneSearchBooleanScorer_SubScorer *new_OrgApacheLuceneSearchBooleanScorer_SubScorer_initWithOrgApacheLuceneSearchScorer_withBoolean_withBoolean_withOrgApacheLuceneSearchCollector_withOrgApacheLuceneSearchBooleanScorer_SubScorer_(OrgApacheLuceneSearchScorer *scorer, jboolean required, jboolean prohibited, OrgApacheLuceneSearchCollector *collector, OrgApacheLuceneSearchBooleanScorer_SubScorer *next) {
  J2OBJC_NEW_IMPL(OrgApacheLuceneSearchBooleanScorer_SubScorer, initWithOrgApacheLuceneSearchScorer_withBoolean_withBoolean_withOrgApacheLuceneSearchCollector_withOrgApacheLuceneSearchBooleanScorer_SubScorer_, scorer, required, prohibited, collector, next)
}

OrgApacheLuceneSearchBooleanScorer_SubScorer *create_OrgApacheLuceneSearchBooleanScorer_SubScorer_initWithOrgApacheLuceneSearchScorer_withBoolean_withBoolean_withOrgApacheLuceneSearchCollector_withOrgApacheLuceneSearchBooleanScorer_SubScorer_(OrgApacheLuceneSearchScorer *scorer, jboolean required, jboolean prohibited, OrgApacheLuceneSearchCollector *collector, OrgApacheLuceneSearchBooleanScorer_SubScorer *next) {
  J2OBJC_CREATE_IMPL(OrgApacheLuceneSearchBooleanScorer_SubScorer, initWithOrgApacheLuceneSearchScorer_withBoolean_withBoolean_withOrgApacheLuceneSearchCollector_withOrgApacheLuceneSearchBooleanScorer_SubScorer_, scorer, required, prohibited, collector, next)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheLuceneSearchBooleanScorer_SubScorer)
